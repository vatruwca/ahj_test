!function(){"use strict";function t(t){let e=null;return/^4/.test(t)&&(e=".visa"),/^5[1-5]/.test(t)&&(e=".mastercard"),/^3[47]/.test(t)&&(e=".amex"),/^(?:2131|1800|35\d{3})\d{11}/.test(t)&&(e=".jcb"),/^2/.test(t)&&(e=".mir"),/^6(?:011|5)/.test(t)&&(e=".discover"),/^3(?:0[0-5]|[68])/.test(t)&&(e=".diners"),e}const e=document.querySelector(".container");new class{constructor(t){this.parentEl=t,this.onSubmit=this.onSubmit.bind(this)}bindToDOM(){this.element=this.parentEl.querySelector(".validator_body"),this.submit=this.element.querySelector(".button"),this.input=this.element.querySelector(".input"),this.result=this.element.querySelector(".result"),this.textResult=this.element.querySelector(".result_text"),this.submit.addEventListener("click",(t=>{t.preventDefault(),this.onSubmit()}))}onSubmit(){const{value:e}=this.input;!function(e){const s=function(t){let e=0,s=!1;if(t){const i=String(t).replace(/[^\d]/g,"");for(let t=i.length-1;t>=0;t-=1){let l=parseInt(i.charAt(t),10);s&&(l*=2,l>9&&(l-=9)),e+=l,s=!s}return e%10==0}return!1}(e);let i;i=e.length>=14&&e.length<=16;const l=function(t){return/^[0-9]+$/.test(t)}(e),r=function(e){return null!=t(e)}(e);return s&&i&&l&&r}(e)?this.showMessage("invalid","valid","card is not valid"):(this.showCard(e),this.showMessage("valid","invalid","card is valid"))}showCard(e){this.cardPay=this.element.querySelector(t(e)),this.cardPay.classList.remove("cardDisabled"),this.cardPay.classList.add("cardSelected")}showMessage(t,e,s){this.result.classList.add(t),this.result.classList.remove(e),this.textResult.textContent=s,this.result.classList.remove("hidden"),this.textResult.classList.remove("hidden"),this.input.addEventListener("click",(()=>{this.clearAll()}))}clearAll(){this.result.classList.add("hidden"),this.textResult.classList.add("hidden"),this.input.value="",this.input.removeEventListener("click",(()=>{this.clearAll()})),this.cardPay.classList.remove("cardSelected"),this.cardPay.classList.add("cardDisabled")}}(e).bindToDOM()}();